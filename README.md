# Слоты

## Инструкция по сборке

### Необходимо

- CMake
- vcpkg
- система сборки, поддерживаемая генератором CMake
- компилятор, поддерживающий стандарт языка C++17

### Шаги

1. Открыть консоль в папке проекта
2. Создать папку __`/build`__ и перейти в неё

    ```cmd
    mkdir build
    cd build
    ```

3. Сконфигурировать проектные файлы системы сборки используя CMake (при необходимости указав предпочитаемые систему сборки и компилятор)

    [!ВАЖНО!]

    - либо предварительно добавить переменную среды с именем __`VCPKG_ROOT`__, значением которой будет __путь к корню vcpkg__ (далее как `<vcpkg-root>`)

      ```cmd
      cmake ..
      ```

    - либо передать в качестве аргумента к CMake путь к __toolchain__ vcpkg

      ```cmd
      cmake .. -DCMAKE_TOOLCHAIN_FILE="<vcpkg-root>/scripts/buildsystems/vcpkg.cmake"
      ```

      что эквивалентно

      ```cmd
      cmake .. --toolchain="<vcpkg-root>/scripts/buildsystems/vcpkg.cmake"
      ```

4. Собрать проект в конфигурации __`Release`__ и установить нужные файлы в папку __`/bin`__

    ```cmd
    cmake --build . --config Release --target install
    ```

5. Перейти в папку __`/bin`__ и запустить приложение

    ```cmd
    cd ..
    cd bin
    ./Slots.exe
    ```

## Пост Скриптум

Возникли проблемы с зависимостями __`SDL2-image`__ из-за того,
что (насколько я понял, изучив __issues__ на __GitHub__)
библиотека загружает свои зависимости в __runtime__,
что приводит к тому, что эти зависимости почти невозможно отследить.
В __`CMakeLists.txt`__ немного костыльный способ скопировать бинарники библиотек.
Не уверен на сколько он кросс-платформенный. Что-то менять в коде и переписывать под другую библиотеку или другой способ загрузки асетов уже не осталось времени,
поэтому оставляю как есть.

---

Код остался без комментариев, потому что меня уже не хватило на них.
При необходимости могу объяснить те или иные *дизайнерские* решения, а так же что и почему происходит.
